---
title: 计算机组成原理
tags: [Code,Study]
categories: Study
mathjax: true
---



# 计算机组成原理：学习笔记（一）

## 计算机硬件概述

### 一、什么是计算机系统？

计算机系统 = **硬件** + **软件**

#### 1、软件

软件系统包括**系统软件**和**应用软件**

系统软件用来管理整个计算机系统，应用软件按任务需要编制成各种程序

**编程语言发展：**机器语言 -> 汇编语言 -> FORTRAN -> PASCAL -> C++ -> Java、Python

**操作系统发展：**Dos -> Windows -> Android、iOS

#### 2、硬件

1946年  ENIAC  第一台电子数字计算机  冯诺伊曼  逻辑元件是电子管（1.8w个电子管）（逻辑元件是处理电信号的最小单元）

电子管 --> 晶体管 --> 中小规模继承电路 --> 大规模、超大规模集成电路

**机器字长**：计算机一次整数运算所能处理的二进制位数

**摩尔定律**：集成电路上可容纳的晶体管数目，约每隔18个月便会增加一倍，整体性能也将提升一倍

#### 3、计算机发展趋势

**两极分化：**一是更微型化、网络化、高性能、多用途；二是更巨型化、超高速、并行处理、智能化

#### 4、总结

![](image-20230125235443155.png)

### 二、计算机系统结构

![](image-20230125235615549.png)

#### 1、冯诺依曼机

**存储程序：**指**将指令以二进制代码的形式事先输入计算机的主存储器**，然后按其在存储器中的首地址执行程序的第一条指令，以后就按该程序的规定顺序执行其他指令，直至程序执行结束

![](image-20230126000811676.png)

在计算机系统中，**软件和硬件在逻辑上是等效的**，这意味着同一个功能，既可以用软件来实现，也可以用硬件来实现，通常情况下，利用软件实现成本低，效率低；而利用硬件实现，成本高，效率高

**冯诺依曼计算机的特点**：

①、计算机由5大部件组成 I/O设备

②、指令和数据以同等地位存于存储器中，可按地址寻访

③、指令和数据用二进制表示

④、指令由操作码和地址码组成

⑤、存储程序

⑥、以**运算器**为中心（输入/输出设备与存储器之间的**数据传送通过运算器**完成）

#### 2、现代计算机结构（基于冯诺依曼结构）

现代计算机：以存储器为中心

![](image-20230126001707452.png)

解放运算器，计算更高效

CPU = 控制器 + 运算器

![](image-20230126001900105.png)

主存、辅存

![](image-20230126002040159.png)

#### 3、小结

![](image-20230126002225652.png)

### 三、计算机硬件

#### 1、主存储器基本组成

**基本组成：**存储体（存放二进制数据）、MAR（Memory Address Register，存储地址寄存器）、MDR（Memory Data Register，存储数据寄存器）

**CPU读数据流程：**首先将数据地址放入MAR中，主存储器根据MAR中的地址，从存储体中找到数据并将其放入MDR中，CPU读取MDR中的数据

**CPU写数据流程：**CPU将写入的数据放入MDR中，并且将数据地址放入MAR中，然后通过控制总线告诉主存储器进行写操作，之后主存储器根据MAR中的地址，将MDR中的数据写入相应位置

 **存储体：**数据在存储体内按地址存储

<img src="image-20230126135959371.png" alt="" style="zoom:70%;" />

**存储单元：**每个存储单元存放一串二进制代码（$k*8bit$）

**存储字：**存储单元中二进制代码的组合

**存储字长：**存储单元中二进制代码的位数

**存储元：**即存储二进制的电子元件，每个存储元可存**1bit**

每个存储单元对应一个地址信息

MAR的位数反映存储单元的个数，MDR位数 = 存储字长

一个字（word）= 16bit

一个字节（byte）= 8bit

1B = 一个字节     1b = 1个bit

#### 2、运算器的基本组成

运算器：用于实现算术运算（如：加减乘除）、逻辑运算（如：与或非）

<img src="image-20230126143520686.png" alt="" style="zoom:67%;" />

**ACC：**累加器，用于存放操作数，或运算结果

**MQ：**乘商寄存器，在乘除运算时，用于存放操作数或运算结果

**X：**通用的操作数寄存器，用于存放操作数

**ALU：**算数逻辑单元，通过内部复杂的电路实现算数运算、逻辑运算

![](image-20230126144047911.png)

#### 3、控制器的基本组成

<img src="image-20230126144145502.png" alt="" style="zoom:67%;" />

**CU：**控制单元，分析指令，给出控制信号

**IR：**指令寄存器，存放当前执行的命令

**PC：**程序计数器，存放下一条指令地址，有自动加1的功能

**计算机完成一条指令的过程：**取指令（PC）、分析指令（IR）、执行指令（CU）

#### 4、计算机的工作过程

```
int a=2,b=3,c=1,y=0;
void main(){
	y=a*b+c;
}
```

经过编译、装入主存后

<img src="image-20230126144719740.png" alt="" style="zoom:70%;" />

**初：(PC) = 0，指向第一条指令的存储地址**

#1：(PC)→ MAR，导致 (MRA) = 0 ，PC将其中的地址发送到MRA，MAR存储地址变化

#2：M(MAR) → MDR，导致 (MDR) = 000001 0000000101

#3：(MDR) → IR，导致 (IR) = 000001 0000000101

#4：OP(IR) → CU，指令的**操作码**送到CU，CU分析后得知，这是“**取数**”指令

#5：Ad(IR) → MAR，指令的**地址码**送到MAR，导致 (MAR) = 5

#6：M(MAR) → MDR，导致 (MDR) = 0000 0000 0000 0010 = 2

#7：(MDR) → ACC，导致 (ACC) = 0000 0000 0000 0010 = 2

**上一条指令取指后PC自动 +1，（PC）= 1，执行后，（ACC）= 2 = a**

#1：(PC) → MAR，导致 (MAR) = 1

#2：M(MAR) → MDR，导致 (MDR) = 000100 0000000110

#3：(MDR) → IR，导致 (IR) = 000100 0000000110

#4：OP(IR) → CU，指令的**操作码**送到CU，CU分析后得知，这是“**乘法**”指令

#5：Ad(IR) → MAR，指令的**地址码**送到MAR，导致 (MAR) = 6

#6：M(MAR) → MDR，导致 (MDR) = 0000 0000 0000 0011 = 3

#7：(MDR) → MQ，导致 (MQ) = 0000 0000 0000 0011 = 3

#8：(ACC) → X，导致 (X) = 0000 0000 0000 0010 = 2

#9：(MQ) * (X) → ACC，由ALU实现乘法运算，导致 (ACC) = 6 ，如果乘积太大，则需要MQ辅助存储（MQ存储低位）

...

#### 5、总结

计算机工作流程

![](image-20230126155413517.png)

知识回顾

![](image-20230126155649886.png)

### 四、计算机层次结构

#### 1、计算机层次结构

![](image-20230207200232411.png)

下层是上层的基础，上层是下层的拓展

#### 2、三种级别的语言

高级语言 $\to$ 汇编语言 $\to$ 机器语言

编译 $\to$ 汇编 $\to$ 链接   或者通过解释器

**编译程序：**将高级语言编写的源程序全部语句一次全部翻译成机器语言程序，而后在执行机器语言程序（只需翻译一次）

**解释程序：**将源程序的一条语句翻译成对应于机器语言的语句，并立即执行。紧接着再翻译下一句（每次执行都要翻译）

**注：**编译、汇编、解释程序可统称为 “翻译程序”

#### 3、小结

![](image-20230207201805559.png)

#### 4、计算机体系结构与计算机组成原理

计算机体系结构：机器语言程序员所见到的计算机系统的属性概念性的结构与功能特性（指令系统、数据类型、寻址技术、I/O机理），探讨如何设计硬件与软件之间的接口

计算机组成原理：实现计算机体系结构所体现的属性，对程序员“透明”（具体指令的实现），探讨如何用硬件实现所定义的接口

### 五、计算机性能指标

#### 1、存储器性能指标

<img src="image-20230207201939566.png" alt="" style="zoom: 50%;" />

总容量 = 存储单元个数 x 存储字长 bit = 存储单元个数 x 存储字长 / 8 Byte

#### 2、CPU的性能指标

CPU主频：CPU内数字脉冲信号振荡的频率 

CPU主频 = 1/CPU时钟周期

CPI（Clock cycle per instruction）：执行一条指令所需的时钟周期数不同的指令，CPI不同。甚至相同的指令，CPI也可能有变化

执行一条指令的耗时 = CPI x CPU时钟周期

